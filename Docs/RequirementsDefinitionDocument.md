# AI搭載プロジェクト管理アプリ TaskForge 要件定義書

## 1. プロジェクト概要

### 1.1 目的

本システムは以下を目的とする：

-   タスク管理アプリの設計・実装力を示す
-   フロントエンド／バックエンド／AI統合の技術力を示す
-   スクラム／カンバン／ガントチャートの3ビュー切替を実装する
-   AIによるタスク分解機能を実装する

ポートフォリオ用途であり、商用課金は想定しない。

------------------------------------------------------------------------

## 2. システム構成

-   Frontend: Next.js (App Router, TypeScript)
-   Backend: FastAPI
-   Database: PostgreSQL
-   AI: LangGraph + OpenAI API
-   Infrastructure: Docker Compose

------------------------------------------------------------------------

## 3. 機能要件

### 3.1 ユーザー管理

-   メールアドレス登録
-   パスワード登録（ハッシュ化）
-   JWT認証
-   ログイン機能

------------------------------------------------------------------------

### 3.2 プロジェクト管理

-   プロジェクト作成
-   プロジェクト一覧取得
-   プロジェクト詳細取得
-   【制約事項】当面は全プロジェクトは作成者（owner）のみが閲覧・編集可能なプライベート領域として実装する。

------------------------------------------------------------------------

### 3.3 タスク管理

-   タスク作成（タイトル、説明、ステータス、期限、見積もり）
-   タスク編集
-   タスク削除
-   プロジェクト単位の一覧取得

ステータス: todo / doing / done

------------------------------------------------------------------------

### 3.4 スプリント管理

-   スプリント作成
-   スプリント一覧取得
-   スプリント単位のタスク表示

------------------------------------------------------------------------

### 3.5 3ビュー切替機能

#### カンバンビュー

-   ステータス別カラム表示
-   Drag & Drop対応

#### スクラムビュー

-   スプリント単位表示
-   バックログ表示

#### ガントチャートビュー

-   start_date / end_date 表示
-   横スクロール対応

------------------------------------------------------------------------

### 3.6 AI機能

#### AIタスク分解

入力例: 「SNSアプリを作りたい」

出力: - エピック一覧 - タスク分解 - 推定工数 - 推奨スプリント分割

処理フロー: 1. ユーザー入力受信 2. 非同期（バックグラウンド）またはSSE等でLangGraphワークフロー実行 3. LLM呼び出し 4. JSON整形 5. DB保存 6. クライアントに結果完了を通知（ポーリングまたはSSE）

------------------------------------------------------------------------

### 3.7 管理者機能

-   refine フレームワークを用いたシステム管理画面（管理者権限ユーザー向け）
-   システム全体のユーザー管理、プロジェクト全体のモニタリング等


------------------------------------------------------------------------

## 4. データベース設計

### users

-   id (PK)
-   email
-   password_hash
-   created_at

### projects

-   id (PK)
-   name
-   owner_id (FK users.id)
-   created_at

### sprints

-   id (PK)
-   project_id (FK projects.id)
-   name
-   start_date
-   end_date

### tasks

-   id (PK)
-   project_id (FK projects.id)
-   sprint_id (nullable)
-   title
-   description
-   status
-   priority
-   start_date
-   end_date
-   estimate
-   created_at
-   updated_at

------------------------------------------------------------------------

## 5. 非機能要件

-   APIレスポンス 300ms以内（AI除く）
-   AI生成 5秒以内目標（ただし全体の完了ではなく、ポーリングやSSEによる初期応答までの時間とする。全体の生成は非同期で実施）
-   JWT認証必須
-   Docker起動可能
-   README整備

------------------------------------------------------------------------

## 6. 開発フェーズ

Phase 1: - CRUD実装 - カンバン完成

Phase 2: - スクラム追加 - ガント追加

Phase 3: - AI統合 - 管理者機能（refine）追加

Phase 4: - JWT認証 - Docker化 - README整備

------------------------------------------------------------------------

## 7. 今後の拡張案

-   マルチテナント対応
-   ロール管理
-   WebSocketリアルタイム更新
-   課金機能
-   AI優先度自動調整
-   分析ダッシュボード
